#pragma once
#include "Texture.h"

namespace HyEngine
{
	class ENGINE_DLL Billboard : public Texture
	{
		//////////////////////////////////////////////////////////////////////////
		// CONSTRUCTOR & DESTRUCTOR
		//////////////////////////////////////////////////////////////////////////
	protected :
		Billboard(Scene* pScene, GameObject* pParent, std::wstring name, EBillboardType billboardType);
		virtual ~Billboard();

		//////////////////////////////////////////////////////////////////////////
		// INHERITED
		//////////////////////////////////////////////////////////////////////////
	public :
		virtual void Initialize() override;
		virtual void Render() override;
		virtual void Update() override;


	protected :
		D3DXMATRIX GetBillboardMatrix();


	private :
		D3DXMATRIX CalcBillboardY();
		D3DXMATRIX CalcBillboardAll();

		//////////////////////////////////////////////////////////////////////////
		// VARIABLES
		//////////////////////////////////////////////////////////////////////////
	private :
		EBillboardType m_billboardType = EBillboardType::Y;

		//////////////////////////////////////////////////////////////////////////
		// FACTORY METHOD
		//////////////////////////////////////////////////////////////////////////
	public :
		static Billboard* Create(Scene* pScene, GameObject* pParent, std::wstring name, EBillboardType billboardType);
	};
}

