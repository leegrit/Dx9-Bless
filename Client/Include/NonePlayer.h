#pragma once
#include "Character.h"

namespace HyEngine
{
	class Billboard;
};


class NonePlayer abstract : public Character
{
	//////////////////////////////////////////////////////////////////////////
	// CONSTRUCTOR & DESTRUCTOR 
	//////////////////////////////////////////////////////////////////////////
protected :
	explicit NonePlayer(Scene* scene, ESkinningType skinningType);
	virtual ~NonePlayer();

	//////////////////////////////////////////////////////////////////////////
	// INHERITED
	//////////////////////////////////////////////////////////////////////////
public :
	virtual void Initialize(std::wstring dataPath)override;
	virtual void QuestInitialize();
	virtual void Update() override;
	virtual void Render() override;
	virtual void OnCollision(Collider * other) override;

	//////////////////////////////////////////////////////////////////////////
	// PURE
	//////////////////////////////////////////////////////////////////////////
public :
	virtual std::wstring GetCharacterName()PURE;
	virtual std::wstring GetSubTitle() PURE;

	//////////////////////////////////////////////////////////////////////////
	// CALLBACK
	//////////////////////////////////////////////////////////////////////////
public :
	void OnDialogOpen(void*);
	void OnDialogEnd(void*);

	
	//////////////////////////////////////////////////////////////////////////
	// PUBLIC METHOD
	//////////////////////////////////////////////////////////////////////////
public:
	virtual bool DoInteract();
	void AddQuest(class Quest* pQuest);

	//////////////////////////////////////////////////////////////////////////
	// VARIABLES
	//////////////////////////////////////////////////////////////////////////
private: 
	float m_interDist = 10; // 상호작용 거리
	std::vector<class Quest*> m_quests;
	std::function<void()> m_onInteractEnd;
	
	Camera* m_pZoomInCam = nullptr;
	std::wstring m_originCamName;
	bool m_bZoom = false;

private : /* For Name */
	class NameFont * m_pNameFont = nullptr;
	class NameFont* m_pSubTitleFont = nullptr;

};

