#pragma once
#include "Character.h"

namespace HyEngine
{
	class ProgressBar;
}

using namespace HyEngine;

class Player final : public Character
{
	//////////////////////////////////////////////////////////////////////////
	// CONSTRUCTOR & DESTRUCTOR
	//////////////////////////////////////////////////////////////////////////
private :
	explicit Player(Scene* pScene, NavMesh* pNavMesh);
	virtual ~Player();




	//////////////////////////////////////////////////////////////////////////
	// INHERITED
	//////////////////////////////////////////////////////////////////////////
public :
	virtual void Initialize(std::wstring dataPath) override;
	virtual void OnCollision(Collider * other) override;
	virtual void OnDamaged(GameObject* pSender, float damage, bool isCritical);
	virtual void OnHPChanged();
	virtual void OnMPChanged();


	//////////////////////////////////////////////////////////////////////////
	// CALLBACK
	//////////////////////////////////////////////////////////////////////////
public :
	void OnExpChanged(void*);


	//////////////////////////////////////////////////////////////////////////
	// FACTORY METHOD
	//////////////////////////////////////////////////////////////////////////
public :
	static Player* Create(Scene* pScene, NavMesh* pNavMesh, std::wstring dataPath);

public :
	ProgressBar* m_pHPBarUI = nullptr;
	ProgressBar* m_pMPBarUI = nullptr;
	ProgressBar* m_pExpBarUI = nullptr;
};

